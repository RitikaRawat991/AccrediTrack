<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
</head>
<body>

<h2>Admin Dashboard</h2>
<a href="/logout">Logout</a>

<hr>

<h3>Add Student</h3>
<form method="POST">
    <input type="text" name="name" placeholder="Name" required><br><br>
    <input type="text" name="roll" placeholder="Roll No" required><br><br>
    <input type="text" name="department" placeholder="Department" required><br><br>
    <input type="number" name="semester" placeholder="Semester" required><br><br>
    <input type="number" step="0.01" name="cgpa" placeholder="CGPA" required><br><br>
    <input type="number" step="0.01" name="attendance" placeholder="Attendance %" required><br><br>
    <button type="submit">Add Student</button>
</form>

<hr>

<h3>Student List</h3>

<table border="1">
    <tr>
        <th>Name</th>
        <th>Roll</th>
        <th>Dept</th>
        <th>Sem</th>
        <th>CGPA</th>
        <th>Attendance</th>
        <th>Action</th>
    </tr>

    {% for student in students %}
    <tr>
        <td>{{ student["name"] }}</td>
        <td>{{ student["roll_no"] }}</td>
        <td>{{ student["department"] }}</td>
        <td>{{ student["semester"] }}</td>
        <td>{{ student["cgpa"] }}</td>
        <td>{{ student["attendance"] }}</td>
        <td><a href="/delete/{{ student['id'] }}">Delete</a></td>
    </tr>
    {% endfor %}
</table>

<hr>

<h3>Pending Coordinators</h3>

<table border="1">
    <tr>
        <th>Username</th>
        <th>Assign Section</th>
        <th>Approve</th>
        <th>Reject</th>
    </tr>

    {% for user in pending %}
    <tr>
        <td>{{ user["username"] }}</td>

        <td>
            <form method="POST" action="/approve_coordinator/{{ user['id'] }}">
                <input type="text" name="section" placeholder="A/B/C" required>
        </td>

        <td>
                <button type="submit">Approve</button>
            </form>
        </td>

        <td>
            <a href="/reject_coordinator/{{ user['id'] }}">Reject</a>
        </td>
    </tr>
    {% endfor %}
</table>

</body>
</html>
